version: 2

models:
  - name: dim_users
    description: |
      User dimension table combining Linear and GitHub users via email join.
      Users appearing in both systems are merged into a single record.
    config:
      schema: linear
      tags: ['linear', 'github']
    columns:
      - name: user_id
        description: Primary user ID (Linear ID if available, otherwise gh_ prefixed GitHub ID)
        tests:
          - unique
          - not_null
      - name: email
        description: Email address (cross-platform join key)
      - name: github_username
        description: GitHub login/username
      - name: linear_user_id
        description: Linear user ID (null if user only in GitHub)
      - name: github_user_id
        description: GitHub user ID (null if user only in Linear)
      - name: source
        description: Where user data comes from (linear, github, or both)
